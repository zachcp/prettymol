[workspace]
channels = [
    "conda-forge",
    "https://prefix.dev/pixi-build-backends",
    "https://prefix.dev/conda-forge",
]
platforms = ["osx-arm64", "linux-64"]
preview = ["pixi-build"]


[dependencies]
python = "==3.11"
prettymol = { path = "." }
# ffmpeg-python = "*"
# ffmpeg = "*"
# opencv = "*"
# pip = "*"ipython = "*"
jupyter = ">=1.1.1,<2"
# pytest = "*"
quarto = ">=1.6.40,<2"
# rdkit = "==2024.09.5" # c++ crash
# rdkit = "==2024.03.6" # c++ crash
# rdkit = "==2023.09.1" # c++ crash
rdkit = "*"


[pypi-dependencies]
biotite = "*"
blender_notebook = "*"
bpy = "*"
databpy = "*"
molecularnodes = { git = "https://github.com/BradyAJohnston/MolecularNodes.git" }

[package]
name = "prettymol"
version = "0.1.0"


[package.build]
backend = { name = "pixi-build-python", version = "*" }

[package.host-dependencies]
hatchling = "==1.26.3"
python = "==3.11"

[package.run-dependencies]
python = "==3.11"


[tasks]
clear-kernels = "rm -rf ~/Library/Jupyter/kernels/*"
docs-preview = "quarto preview docs"
docs-build = "quarto render docs"
install-repl = "blender_notebook install --blender-exec=\"/Applications/Blender.app/Contents/MacOS/Blender\""
jupyter = "jupyter lab"
remove = "rm -rf /Applications/Blender.app/Contents/Resources/4.3/python"
